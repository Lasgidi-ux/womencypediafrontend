<!DOCTYPE html>
<html class="light" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Admin Dashboard â€” Womencypedia</title>
    <meta name="description" content="Womencypedia admin dashboard for managing entries, contributions, and users.">
    <meta name="robots" content="noindex, nofollow">

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Lato:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />

    <!-- Tailwind CSS (Production Build) -->
    <link rel="stylesheet" href="css/tailwind.css" />
</head>

<body class="bg-background-cream text-text-main antialiased font-display selection:bg-primary/30">
    <!-- Skip Link -->
    <a href="#main-content"
        class="sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 focus:z-[200] focus:bg-accent-teal focus:text-white focus:px-4 focus:py-2">
        Skip to main content
    </a>

    <!-- Mobile Search Sheet -->
    <div id="searchSheet" class="search-sheet hidden fixed top-0 left-0 right-0 z-[150] bg-accent-teal/10 p-4">
        <div class="flex items-center gap-3">
            <div class="flex-1 flex items-center bg-white border border-border-light rounded-lg px-4 h-12">
                <span class="material-symbols-outlined text-accent-teal text-[20px]">search</span>
                <input type="search" placeholder="Search women, cultures, erasâ€¦"
                    class="flex-1 bg-transparent border-none focus:ring-0 text-sm text-text-main placeholder-text-secondary ml-2" />
            </div>
            <button onclick="toggleSearch()"
                class="size-12 flex items-center justify-center bg-white border border-border-light rounded-lg">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div id="menuOverlay" class="overlay hidden fixed inset-0 z-[140] bg-black/40" onclick="toggleMenu()"></div>

    <!-- Mobile Bottom Sheet Menu -->
    <nav id="mobileMenu"
        class="mobile-menu hidden fixed bottom-0 left-0 right-0 z-[150] bg-background-cream rounded-t-2xl border-t border-border-light max-h-[85vh] overflow-y-auto">
        <div class="w-10 h-1 bg-border-light rounded-full mx-auto mt-3 mb-4"></div>

        <!-- Explore -->
        <div class="px-6 pb-4">
            <h3
                class="text-xs font-bold uppercase tracking-widest text-text-secondary mb-3 pb-2 border-b border-border-light">
                Explore</h3>
            <a href="index.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Home</a>
            <a href="browse.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Browse</a>
            <a href="featured.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Featured</a>
            <a href="collections.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Collections</a>
            <a href="timelines.html"
                class="block py-3 text-base font-medium text-text-main hover:text-primary">Timelines</a>
        </div>

        <!-- Learn -->
        <div class="px-6 pb-4">
            <h3
                class="text-xs font-bold uppercase tracking-widest text-text-secondary mb-3 pb-2 border-b border-border-light">
                Learn</h3>
            <a href="education.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Education</a>
            <a href="enterprises.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Enterprises</a>
            <a href="research.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Research</a>
            <a href="publications.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Publications</a>
            <a href="resources.html"
                class="block py-3 text-base font-medium text-text-main hover:text-primary">Resources</a>
        </div>

        <!-- Participate -->
        <div class="px-6 pb-4">
            <h3
                class="text-xs font-bold uppercase tracking-widest text-text-secondary mb-3 pb-2 border-b border-border-light">
                Participate</h3>
            <a href="nominate.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Nominate
                a Woman</a>
            <a href="share-story.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Share
                Your Story</a>
            <a href="contributor-guidelines.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Contributor
                Guidelines</a>
            <a href="donate.html" class="block py-3 text-base font-medium text-text-main hover:text-primary">Donate</a>
        </div>

        <!-- About -->
        <div class="px-6 pb-4">
            <h3
                class="text-xs font-bold uppercase tracking-widest text-text-secondary mb-3 pb-2 border-b border-border-light">
                About</h3>
            <a href="about.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">About
                Us</a>
            <a href="founders.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Founders</a>
            <a href="contributors.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Contributors</a>
            <a href="methodology.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Methodology</a>
            <a href="editorial-standards.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Editorial
                Standards</a>
            <a href="contact.html" class="block py-3 text-base font-medium text-text-main hover:text-primary">Contact</a>
        </div>

        <!-- My Profile -->
        <div class="px-6 pb-4">
            <h3
                class="text-xs font-bold uppercase tracking-widest text-text-secondary mb-3 pb-2 border-b border-border-light">
                My Profile</h3>
            <a href="profile.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">My
                Profile</a>
            <a href="analytics.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Analytics</a>
            <a href="admin.html"
                class="block py-3 text-base font-medium text-text-main border-b border-border-light/50 hover:text-primary">Admin</a>
            <a href="biography.html" class="block py-3 text-base font-medium text-text-main hover:text-primary">Sample
                Biography</a>
        </div>

        <!-- CTA -->
        <div class="px-6 pb-8">
            <a href="share-story.html"
                class="block w-full h-12 bg-primary text-white text-base font-bold rounded-lg flex items-center justify-center hover:bg-primary-hover transition-colors">
                Share Your Story
            </a>
        </div>
    </nav>

    <!-- Header -->

    <!-- Header -->
    <header class="w-full border-b border-divider bg-white sticky top-0 z-50">
        <div class="mx-auto max-w-[1440px] px-4 sm:px-6 lg:px-12">
            <div class="flex items-center justify-between h-16 lg:h-20">
                <div class="flex items-center gap-8 lg:gap-12">
                    <a class="flex items-center gap-2 lg:gap-3 group" href="index.html">
                        <div
                            class="flex items-center justify-center size-9 lg:size-10 rounded-full bg-primary/20 text-text-main group-hover:bg-primary/40 transition-colors">
                            <span class="material-symbols-outlined text-[20px] lg:text-[24px]">history_edu</span>
                        </div>
                        <h2 class="text-text-main text-xl lg:text-2xl font-bold font-serif tracking-tight">Womencypedia
                        </h2>
                    </a>
                    <span
                        class="bg-accent-gold/20 text-accent-gold text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider">Admin</span>
                </div>
                <div class="flex items-center gap-4">
                    <span data-auth="user-info" class="text-sm text-text-secondary"></span>
                    <button data-auth="signout"
                        class="flex items-center gap-2 px-4 py-2 bg-text-main text-white rounded-lg font-bold text-sm hover:bg-opacity-90 transition-opacity">
                        <span class="material-symbols-outlined text-[18px]">logout</span>
                        Sign Out
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <aside
            class="w-64 bg-white border-r border-border-light min-h-[calc(100vh-80px)] sticky top-20 hidden lg:block">
            <nav class="p-4 space-y-2">
                <a href="#dashboard" onclick="switchTab('dashboard')"
                    class="admin-tab flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium hover:bg-lavender-soft/50 transition-colors tab-active"
                    data-tab="dashboard">
                    <span class="material-symbols-outlined">dashboard</span>
                    Dashboard
                </a>
                <a href="#entries" onclick="switchTab('entries')"
                    class="admin-tab flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium hover:bg-lavender-soft/50 transition-colors"
                    data-tab="entries">
                    <span class="material-symbols-outlined">library_books</span>
                    All Entries
                </a>
                <a href="#pending" onclick="switchTab('pending')"
                    class="admin-tab flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium hover:bg-lavender-soft/50 transition-colors"
                    data-tab="pending">
                    <span class="material-symbols-outlined">pending_actions</span>
                    Pending Approval
                    <span id="pending-count"
                        class="ml-auto bg-accent-gold text-white text-xs font-bold px-2 py-0.5 rounded-full">0</span>
                </a>
                <a href="#add" onclick="switchTab('add')"
                    class="admin-tab flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium hover:bg-lavender-soft/50 transition-colors"
                    data-tab="add">
                    <span class="material-symbols-outlined">add_circle</span>
                    Add New Entry
                </a>
                <div class="border-t border-border-light my-4"></div>
                <a href="index.html"
                    class="flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium hover:bg-lavender-soft/50 transition-colors text-text-secondary">
                    <span class="material-symbols-outlined">home</span>
                    Back to Site
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 lg:p-8">
            <!-- Dashboard Tab -->
            <section id="tab-dashboard" class="admin-content">
                <h1 class="font-serif text-2xl lg:text-3xl font-bold text-text-main mb-6">Dashboard</h1>

                <!-- Stats Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-xl p-6 border border-border-light">
                        <div class="flex items-center justify-between mb-4">
                            <span class="size-12 rounded-lg bg-primary/10 flex items-center justify-center">
                                <span class="material-symbols-outlined text-primary text-2xl">library_books</span>
                            </span>
                        </div>
                        <p class="text-3xl font-serif font-bold text-text-main" id="stat-total">â€”</p>
                        <p class="text-sm text-text-secondary">Total Entries</p>
                    </div>
                    <div class="bg-white rounded-xl p-6 border border-border-light">
                        <div class="flex items-center justify-between mb-4">
                            <span class="size-12 rounded-lg bg-accent-gold/10 flex items-center justify-center">
                                <span class="material-symbols-outlined text-accent-gold text-2xl">pending_actions</span>
                            </span>
                        </div>
                        <p class="text-3xl font-serif font-bold text-text-main" id="stat-pending">â€”</p>
                        <p class="text-sm text-text-secondary">Pending Approval</p>
                    </div>
                    <div class="bg-white rounded-xl p-6 border border-border-light">
                        <div class="flex items-center justify-between mb-4">
                            <span class="size-12 rounded-lg bg-accent-teal/10 flex items-center justify-center">
                                <span class="material-symbols-outlined text-accent-teal text-2xl">person_add</span>
                            </span>
                        </div>
                        <p class="text-3xl font-serif font-bold text-text-main" id="stat-nominations">â€”</p>
                        <p class="text-sm text-text-secondary">Nominations</p>
                    </div>
                    <div class="bg-white rounded-xl p-6 border border-border-light">
                        <div class="flex items-center justify-between mb-4">
                            <span class="size-12 rounded-lg bg-divider/10 flex items-center justify-center">
                                <span class="material-symbols-outlined text-divider text-2xl">auto_stories</span>
                            </span>
                        </div>
                        <p class="text-3xl font-serif font-bold text-text-main" id="stat-stories">â€”</p>
                        <p class="text-sm text-text-secondary">Story Submissions</p>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="bg-white rounded-xl border border-border-light overflow-hidden">
                    <div class="p-6 border-b border-border-light">
                        <h2 class="font-serif text-xl font-bold text-text-main">Recent Activity</h2>
                    </div>
                    <div id="recent-activity" class="p-6">
                        <p class="text-text-secondary text-sm">Loading recent activity...</p>
                    </div>
                </div>
            </section>

            <!-- All Entries Tab -->
            <section id="tab-entries" class="admin-content hidden">
                <div class="flex items-center justify-between mb-6">
                    <h1 class="font-serif text-2xl lg:text-3xl font-bold text-text-main">All Entries</h1>
                    <button onclick="switchTab('add')"
                        class="flex items-center gap-2 px-5 py-2.5 bg-primary text-white rounded-lg font-bold text-sm hover:bg-primary/90 transition-colors">
                        <span class="material-symbols-outlined text-[18px]">add</span>
                        Add Entry
                    </button>
                </div>

                <!-- Search & Filter -->
                <div class="bg-white rounded-xl p-4 border border-border-light mb-6">
                    <div class="flex flex-col sm:flex-row gap-4">
                        <div class="flex-1">
                            <div class="relative">
                                <span
                                    class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary">search</span>
                                <input type="search" id="admin-search" placeholder="Search entries..."
                                    class="w-full h-11 pl-10 pr-4 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal">
                            </div>
                        </div>
                        <select id="admin-filter-region"
                            class="h-11 px-4 border border-border-light rounded-lg bg-white">
                            <option value="">All Regions</option>
                            <option value="africa">Africa</option>
                            <option value="europe">Europe</option>
                            <option value="asia">Asia</option>
                            <option value="middle-east">Middle East</option>
                            <option value="north-america">North America</option>
                            <option value="south-america">South America</option>
                            <option value="oceania">Oceania</option>
                        </select>
                        <select id="admin-filter-era" class="h-11 px-4 border border-border-light rounded-lg bg-white">
                            <option value="">All Eras</option>
                            <option value="pre-colonial">Pre-Colonial</option>
                            <option value="colonial">Colonial</option>
                            <option value="post-colonial">Post-Colonial</option>
                            <option value="contemporary">Contemporary</option>
                        </select>
                    </div>
                </div>

                <!-- Entries Table -->
                <div class="bg-white rounded-xl border border-border-light overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-lavender-soft/30">
                                <tr>
                                    <th
                                        class="text-left px-6 py-4 text-xs font-bold text-text-main uppercase tracking-wider">
                                        Name</th>
                                    <th
                                        class="text-left px-6 py-4 text-xs font-bold text-text-main uppercase tracking-wider">
                                        Region</th>
                                    <th
                                        class="text-left px-6 py-4 text-xs font-bold text-text-main uppercase tracking-wider">
                                        Era</th>
                                    <th
                                        class="text-left px-6 py-4 text-xs font-bold text-text-main uppercase tracking-wider">
                                        Category</th>
                                    <th
                                        class="text-left px-6 py-4 text-xs font-bold text-text-main uppercase tracking-wider">
                                        Status</th>
                                    <th
                                        class="text-right px-6 py-4 text-xs font-bold text-text-main uppercase tracking-wider">
                                        Actions</th>
                                </tr>
                            </thead>
                            <tbody id="entries-table-body" class="divide-y divide-border-light">
                                <tr>
                                    <td colspan="6" class="px-6 py-12 text-center text-text-secondary">Loading
                                        entries...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div id="entries-pagination" class="p-4 border-t border-border-light"></div>
                </div>
            </section>

            <!-- Pending Approval Tab -->
            <section id="tab-pending" class="admin-content hidden">
                <h1 class="font-serif text-2xl lg:text-3xl font-bold text-text-main mb-6">Pending Approval</h1>

                <!-- Pending Items -->
                <div id="pending-items" class="space-y-4">
                    <p class="text-text-secondary">Loading pending submissions...</p>
                </div>
            </section>

            <!-- Add/Edit Entry Tab -->
            <section id="tab-add" class="admin-content hidden">
                <h1 class="font-serif text-2xl lg:text-3xl font-bold text-text-main mb-6" id="form-title">Add New Entry
                </h1>

                <form id="entry-form" class="bg-white rounded-xl p-6 lg:p-8 border border-border-light space-y-6">
                    <input type="hidden" id="entry-id" value="">

                    <!-- Basic Info -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="md:col-span-2">
                            <label class="block text-sm font-semibold text-text-main mb-2" for="entry-name">Full Name
                                *</label>
                            <input type="text" id="entry-name" name="name" required
                                class="w-full h-12 px-4 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal"
                                placeholder="e.g., Queen Amina of Zazzau">
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-text-main mb-2" for="entry-region">Region
                                *</label>
                            <select id="entry-region" name="region" required
                                class="w-full h-12 px-4 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal bg-white">
                                <option value="">Select region...</option>
                                <option value="Africa">Africa</option>
                                <option value="Europe">Europe</option>
                                <option value="Asia">Asia</option>
                                <option value="Middle East">Middle East</option>
                                <option value="North America">North America</option>
                                <option value="South America">South America</option>
                                <option value="Oceania">Oceania</option>
                                <option value="Antarctica">Antarctica</option>
                                <option value="Global / Diaspora">Global / Diaspora</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-text-main mb-2" for="entry-era">Era *</label>
                            <select id="entry-era" name="era" required
                                class="w-full h-12 px-4 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal bg-white">
                                <option value="">Select era...</option>
                                <option value="Pre-colonial">Pre-Colonial</option>
                                <option value="Colonial">Colonial</option>
                                <option value="Post-colonial">Post-Colonial</option>
                                <option value="Contemporary">Contemporary</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-text-main mb-2" for="entry-category">Category
                                *</label>
                            <select id="entry-category" name="category" required
                                class="w-full h-12 px-4 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal bg-white">
                                <option value="">Select category...</option>
                                <option value="Leadership">Leadership</option>
                                <option value="Culture & Arts">Culture & Arts</option>
                                <option value="Spirituality & Faith">Spirituality & Faith</option>
                                <option value="Politics & Governance">Politics & Governance</option>
                                <option value="Science & Innovation">Science & Innovation</option>
                                <option value="Community Builders">Community Builders</option>
                                <option value="Activism & Justice">Activism & Justice</option>
                                <option value="Education">Education</option>
                                <option value="Diaspora Stories">Diaspora Stories</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-text-main mb-2" for="entry-tags">Tags
                                (comma-separated)</label>
                            <input type="text" id="entry-tags" name="tags"
                                class="w-full h-12 px-4 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal"
                                placeholder="e.g., Warrior Queen, Military Leader, Trade">
                        </div>
                    </div>

                    <!-- Biography Sections -->
                    <div class="border-t border-border-light pt-6">
                        <h3 class="font-serif text-lg font-bold text-text-main mb-4">Biography Content</h3>

                        <div class="space-y-6">
                            <div>
                                <label class="block text-sm font-semibold text-text-main mb-2"
                                    for="entry-introduction">Introduction / Summary *</label>
                                <textarea id="entry-introduction" name="introduction" rows="3" required
                                    class="w-full px-4 py-3 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal resize-none"
                                    placeholder="A brief summary of who this woman was and her significance..."></textarea>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-text-main mb-2"
                                    for="entry-early-life">Early Life</label>
                                <textarea id="entry-early-life" name="earlyLife" rows="4"
                                    class="w-full px-4 py-3 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal resize-none"
                                    placeholder="Details about her birth, upbringing, and formative years..."></textarea>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-text-main mb-2" for="entry-path">Path to
                                    Influence</label>
                                <textarea id="entry-path" name="pathToInfluence" rows="4"
                                    class="w-full px-4 py-3 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal resize-none"
                                    placeholder="How she rose to prominence or influence..."></textarea>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-text-main mb-2"
                                    for="entry-contributions">Key Contributions</label>
                                <textarea id="entry-contributions" name="contributions" rows="4"
                                    class="w-full px-4 py-3 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal resize-none"
                                    placeholder="Her major achievements, contributions, and impact..."></textarea>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-text-main mb-2"
                                    for="entry-legacy">Legacy</label>
                                <textarea id="entry-legacy" name="legacy" rows="4"
                                    class="w-full px-4 py-3 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal resize-none"
                                    placeholder="Her lasting impact and how she is remembered today..."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Submit Buttons -->
                    <div class="flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-border-light">
                        <button type="button" onclick="resetForm()"
                            class="px-6 py-3 border border-border-light rounded-lg font-bold text-sm hover:bg-background-cream transition-colors">
                            Cancel
                        </button>
                        <button type="submit"
                            class="px-8 py-3 bg-primary text-white rounded-lg font-bold text-sm hover:bg-primary/90 transition-colors flex items-center justify-center gap-2">
                            <span class="material-symbols-outlined text-[18px]">save</span>
                            <span id="submit-btn-text">Save Entry</span>
                        </button>
                    </div>
                </form>
            </section>
        </main>
    </div>

    <!-- Login Modal (for when session expires) -->
    <div id="login-modal" class="fixed inset-0 bg-black/50 z-[100] hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-xl max-w-md w-full p-8">
            <div class="text-center mb-6">
                <div class="size-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4">
                    <span class="material-symbols-outlined text-primary text-3xl">login</span>
                </div>
                <h2 class="font-serif text-2xl font-bold text-text-main">Admin Login</h2>
                <p class="text-text-secondary text-sm mt-2">Sign in to access the admin dashboard</p>
            </div>

            <form id="login-form" class="space-y-4">
                <div id="login-error" class="hidden bg-red-100 text-red-600 px-4 py-3 rounded-lg text-sm"></div>

                <div>
                    <label class="block text-sm font-semibold text-text-main mb-2" for="login-email">Email</label>
                    <input type="email" id="login-email" name="email" required
                        class="w-full h-12 px-4 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal">
                </div>

                <div>
                    <label class="block text-sm font-semibold text-text-main mb-2" for="login-password">Password</label>
                    <input type="password" id="login-password" name="password" required
                        class="w-full h-12 px-4 border border-border-light rounded-lg focus:border-accent-teal focus:ring-1 focus:ring-accent-teal">
                </div>

                <button type="submit"
                    class="w-full h-12 bg-primary text-white font-bold rounded-lg hover:bg-primary/90 transition-colors">
                    Sign In
                </button>
            </form>
        </div>
    </div>

    <!-- Scripts (order matters) -->
    <script src="js/config.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/api.js"></script>
    <script src="js/data.js"></script>
    <script>
        // Admin Dashboard Logic
        let adminState = {
            currentTab: 'dashboard',
            entries: [],
            pending: [],
            currentPage: 1,
            editingId: null
        };

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', async function () {
            // DEMO MODE: Check if API is available, if not, skip auth
            let demoMode = false;
            try {
                // Quick check if API is reachable
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 2000);
                await fetch(CONFIG.API_BASE_URL + '/health', {
                    method: 'HEAD',
                    signal: controller.signal
                });
                clearTimeout(timeoutId);
            } catch (error) {
                console.warn('ðŸ”§ API not available - Running in DEMO MODE');
                console.info('ðŸ“ To enable full functionality, connect a backend API.');
                demoMode = true;
            }

            // Only check authentication if API is available
            if (!demoMode && !Auth.protectPage(CONFIG.ROLES.ADMIN)) {
                return;
            }

            // Load initial data
            await loadDashboardData();

            // Set up form submission
            document.getElementById('entry-form').addEventListener('submit', handleFormSubmit);

            // Set up search/filter listeners
            document.getElementById('admin-search').addEventListener('input',
                UI.debounce(() => loadEntries(), 300));
            document.getElementById('admin-filter-region').addEventListener('change', loadEntries);
            document.getElementById('admin-filter-era').addEventListener('change', loadEntries);
        });

        // Switch between tabs
        function switchTab(tabName) {
            adminState.currentTab = tabName;

            // Update tab buttons
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('tab-active');
                if (tab.dataset.tab === tabName) {
                    tab.classList.add('tab-active');
                }
            });

            // Show/hide content sections
            document.querySelectorAll('.admin-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(`tab-${tabName}`).classList.remove('hidden');

            // Load data for the tab
            switch (tabName) {
                case 'dashboard':
                    loadDashboardData();
                    break;
                case 'entries':
                    loadEntries();
                    break;
                case 'pending':
                    loadPendingSubmissions();
                    break;
                case 'add':
                    resetForm();
                    break;
            }
        }

        // Load dashboard statistics
        async function loadDashboardData() {
            try {
                // Try API first
                const stats = await API.stats.getDashboard();

                document.getElementById('stat-total').textContent = stats.totalEntries || 0;
                document.getElementById('stat-pending').textContent = stats.pendingApproval || 0;
                document.getElementById('stat-nominations').textContent = stats.nominations || 0;
                document.getElementById('stat-stories').textContent = stats.stories || 0;

                document.getElementById('pending-count').textContent = stats.pendingApproval || 0;

                // Load recent activity
                if (stats.recentActivity) {
                    renderRecentActivity(stats.recentActivity);
                }
            } catch (error) {
                console.warn('Using fallback data:', error.message);

                // Fallback to static data
                const totalEntries = typeof biographies !== 'undefined' ? biographies.length : 0;
                document.getElementById('stat-total').textContent = totalEntries;
                document.getElementById('stat-pending').textContent = 0;
                document.getElementById('stat-nominations').textContent = 0;
                document.getElementById('stat-stories').textContent = 0;

                document.getElementById('recent-activity').innerHTML = `
                    <p class="text-text-secondary text-sm">API not available. Using local data.</p>
                `;
            }
        }

        // Render recent activity
        function renderRecentActivity(activities) {
            const container = document.getElementById('recent-activity');

            if (!activities || activities.length === 0) {
                container.innerHTML = '<p class="text-text-secondary text-sm">No recent activity.</p>';
                return;
            }

            container.innerHTML = `
                <div class="space-y-4">
                    ${activities.map(activity => `
                        <div class="flex items-center gap-4 py-3 border-b border-border-light last:border-0">
                            <div class="size-10 rounded-full bg-${activity.type === 'add' ? 'accent-teal' : activity.type === 'edit' ? 'accent-gold' : 'red-500'}/10 flex items-center justify-center">
                                <span class="material-symbols-outlined text-${activity.type === 'add' ? 'accent-teal' : activity.type === 'edit' ? 'accent-gold' : 'red-500'} text-[18px]">
                                    ${activity.type === 'add' ? 'add' : activity.type === 'edit' ? 'edit' : 'delete'}
                                </span>
                            </div>
                            <div class="flex-1">
                                <p class="text-sm font-medium text-text-main">${activity.description}</p>
                                <p class="text-xs text-text-secondary">${UI.formatDate(activity.createdAt)}</p>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Load all entries
        async function loadEntries() {
            const tbody = document.getElementById('entries-table-body');
            tbody.innerHTML = '<tr><td colspan="6" class="px-6 py-12 text-center text-text-secondary">Loading entries...</td></tr>';

            const search = document.getElementById('admin-search').value;
            const region = document.getElementById('admin-filter-region').value;
            const era = document.getElementById('admin-filter-era').value;

            try {
                const response = await API.entries.getAll({
                    page: adminState.currentPage,
                    search,
                    region,
                    era
                });

                adminState.entries = response.entries || response.data || response;
                renderEntriesTable(adminState.entries);
            } catch (error) {
                console.warn('Using fallback data:', error.message);

                // Fallback to static data
                let entries = typeof biographies !== 'undefined' ? [...biographies] : [];

                // Apply filters
                if (search) {
                    entries = entries.filter(e =>
                        e.name.toLowerCase().includes(search.toLowerCase()) ||
                        (e.introduction && e.introduction.toLowerCase().includes(search.toLowerCase()))
                    );
                }
                if (region) {
                    entries = entries.filter(e => e.region.toLowerCase().replace(' ', '-') === region);
                }
                if (era) {
                    entries = entries.filter(e => e.era.toLowerCase().replace(' ', '-') === era);
                }

                adminState.entries = entries;
                renderEntriesTable(entries);
            }
        }

        // Render entries table
        function renderEntriesTable(entries) {
            const tbody = document.getElementById('entries-table-body');

            if (!entries || entries.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="px-6 py-12 text-center text-text-secondary">No entries found.</td></tr>';
                return;
            }

            tbody.innerHTML = entries.map(entry => `
                <tr class="hover:bg-lavender-soft/20 transition-colors">
                    <td class="px-6 py-4">
                        <div class="flex items-center gap-3">
                            <div class="size-10 rounded-lg bg-lavender-soft/50 flex items-center justify-center">
                                ${entry.image ? `<img src="${entry.image}" alt="" class="size-10 rounded-lg object-cover">` :
                    '<span class="material-symbols-outlined text-primary/50">person</span>'}
                            </div>
                            <div>
                                <p class="font-bold text-sm text-text-main">${entry.name}</p>
                                <p class="text-xs text-text-secondary">${entry.category || ''}</p>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 text-sm text-text-secondary">${entry.region}</td>
                    <td class="px-6 py-4 text-sm text-text-secondary">${entry.era}</td>
                    <td class="px-6 py-4">
                        <span class="px-2 py-1 bg-lavender-soft text-text-main text-xs rounded">${entry.category || 'N/A'}</span>
                    </td>
                    <td class="px-6 py-4">
                        <span class="px-2 py-1 ${entry.status === 'published' ? 'bg-green-100 text-green-600' : 'bg-yellow-100 text-yellow-600'} text-xs font-medium rounded">
                            ${entry.status || 'Published'}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-right">
                        <div class="flex items-center justify-end gap-2">
                            <a href="biography.html?id=${entry.id}" target="_blank"
                                class="size-8 rounded-lg hover:bg-lavender-soft flex items-center justify-center transition-colors" title="View">
                                <span class="material-symbols-outlined text-[18px]">visibility</span>
                            </a>
                            <button onclick="editEntry(${entry.id})"
                                class="size-8 rounded-lg hover:bg-accent-teal/10 flex items-center justify-center transition-colors" title="Edit">
                                <span class="material-symbols-outlined text-accent-teal text-[18px]">edit</span>
                            </button>
                            <button onclick="deleteEntry(${entry.id})"
                                class="size-8 rounded-lg hover:bg-red-100 flex items-center justify-center transition-colors" title="Delete">
                                <span class="material-symbols-outlined text-red-500 text-[18px]">delete</span>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // Load pending submissions
        async function loadPendingSubmissions() {
            const container = document.getElementById('pending-items');
            container.innerHTML = '<p class="text-text-secondary">Loading pending submissions...</p>';

            try {
                const response = await API.contributions.getPending();
                adminState.pending = response.contributions || response.data || response;
                renderPendingItems(adminState.pending);
            } catch (error) {
                console.warn('API not available:', error.message);
                container.innerHTML = `
                    <div class="bg-white rounded-xl p-8 border border-border-light text-center">
                        <span class="material-symbols-outlined text-4xl text-text-secondary/50 mb-4">inbox</span>
                        <h3 class="font-serif text-lg font-bold text-text-main mb-2">No Pending Items</h3>
                        <p class="text-text-secondary text-sm">All submissions have been reviewed.</p>
                    </div>
                `;
            }
        }

        // Render pending items
        function renderPendingItems(items) {
            const container = document.getElementById('pending-items');

            if (!items || items.length === 0) {
                container.innerHTML = `
                    <div class="bg-white rounded-xl p-8 border border-border-light text-center">
                        <span class="material-symbols-outlined text-4xl text-text-secondary/50 mb-4">inbox</span>
                        <h3 class="font-serif text-lg font-bold text-text-main mb-2">No Pending Items</h3>
                        <p class="text-text-secondary text-sm">All submissions have been reviewed.</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = items.map(item => `
                <div class="bg-white rounded-xl p-6 border border-border-light">
                    <div class="flex items-start justify-between gap-4 mb-4">
                        <div>
                            <span class="px-2 py-1 ${item.type === 'nomination' ? 'bg-accent-gold/20 text-accent-gold' : 'bg-accent-teal/20 text-accent-teal'} text-xs font-bold uppercase rounded">
                                ${item.type}
                            </span>
                            <h3 class="font-serif text-lg font-bold text-text-main mt-2">${item.name || item.subjectName}</h3>
                            <p class="text-sm text-text-secondary">${item.region || item.storyRegion || 'Region not specified'}</p>
                        </div>
                        <p class="text-xs text-text-secondary">${UI.formatDate(item.submittedAt || item.createdAt)}</p>
                    </div>
                    
                    <p class="text-sm text-text-secondary mb-4 line-clamp-3">${item.bio || item.story || item.introduction || ''}</p>
                    
                    <div class="flex items-center justify-between pt-4 border-t border-border-light">
                        <p class="text-xs text-text-secondary">Submitted by: ${item.contactName || item.yourName || 'Anonymous'}</p>
                        <div class="flex gap-2">
                            <button onclick="rejectSubmission(${item.id})"
                                class="px-4 py-2 border border-red-200 text-red-500 rounded-lg font-bold text-sm hover:bg-red-50 transition-colors">
                                Reject
                            </button>
                            <button onclick="approveSubmission(${item.id})"
                                class="px-4 py-2 bg-accent-teal text-white rounded-lg font-bold text-sm hover:bg-accent-teal/90 transition-colors">
                                Approve
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Edit an entry
        async function editEntry(id) {
            adminState.editingId = id;

            // Find the entry
            let entry = adminState.entries.find(e => e.id === id);

            if (!entry) {
                try {
                    entry = await API.entries.getById(id);
                } catch (error) {
                    entry = typeof biographies !== 'undefined' ? biographies.find(b => b.id === id) : null;
                }
            }

            if (!entry) {
                UI.showToast('Entry not found', 'error');
                return;
            }

            // Switch to edit tab
            switchTab('add');

            // Update form title
            document.getElementById('form-title').textContent = 'Edit Entry';
            document.getElementById('submit-btn-text').textContent = 'Update Entry';

            // Populate form
            document.getElementById('entry-id').value = entry.id;
            document.getElementById('entry-name').value = entry.name || '';
            document.getElementById('entry-region').value = entry.region || '';
            document.getElementById('entry-era').value = entry.era || '';
            document.getElementById('entry-category').value = entry.category || '';
            document.getElementById('entry-tags').value = (entry.tags || []).join(', ');
            document.getElementById('entry-introduction').value = entry.introduction || '';
            document.getElementById('entry-early-life').value = entry.earlyLife || '';
            document.getElementById('entry-path').value = entry.pathToInfluence || '';
            document.getElementById('entry-contributions').value = entry.contributions || '';
            document.getElementById('entry-legacy').value = entry.legacy || '';
        }

        // Delete an entry
        async function deleteEntry(id) {
            const confirmed = await UI.confirm({
                title: 'Delete Entry',
                message: 'Are you sure you want to delete this entry? This action cannot be undone.',
                confirmText: 'Delete',
                danger: true
            });

            if (!confirmed) return;

            try {
                await API.entries.delete(id);
                UI.showToast('Entry deleted successfully', 'success');
                loadEntries();
            } catch (error) {
                UI.showToast('Failed to delete entry: ' + error.message, 'error');
            }
        }

        // Approve a submission
        async function approveSubmission(id) {
            try {
                await API.contributions.approve(id);
                UI.showToast('Submission approved!', 'success');
                loadPendingSubmissions();
                loadDashboardData();
            } catch (error) {
                UI.showToast('Failed to approve: ' + error.message, 'error');
            }
        }

        // Reject a submission
        async function rejectSubmission(id) {
            const confirmed = await UI.confirm({
                title: 'Reject Submission',
                message: 'Are you sure you want to reject this submission?',
                confirmText: 'Reject',
                danger: true
            });

            if (!confirmed) return;

            try {
                await API.contributions.reject(id);
                UI.showToast('Submission rejected', 'success');
                loadPendingSubmissions();
                loadDashboardData();
            } catch (error) {
                UI.showToast('Failed to reject: ' + error.message, 'error');
            }
        }

        // Handle form submission
        async function handleFormSubmit(e) {
            e.preventDefault();

            const form = e.target;
            const submitBtn = form.querySelector('[type="submit"]');
            const entryId = document.getElementById('entry-id').value;

            // Collect form data
            const formData = {
                name: document.getElementById('entry-name').value,
                region: document.getElementById('entry-region').value,
                era: document.getElementById('entry-era').value,
                category: document.getElementById('entry-category').value,
                tags: document.getElementById('entry-tags').value.split(',').map(t => t.trim()).filter(t => t),
                introduction: document.getElementById('entry-introduction').value,
                earlyLife: document.getElementById('entry-early-life').value,
                pathToInfluence: document.getElementById('entry-path').value,
                contributions: document.getElementById('entry-contributions').value,
                legacy: document.getElementById('entry-legacy').value
            };

            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="material-symbols-outlined animate-spin text-[18px]">refresh</span> Saving...';

            try {
                if (entryId) {
                    // Update existing entry
                    await API.entries.update(entryId, formData);
                    UI.showToast('Entry updated successfully!', 'success');
                } else {
                    // Create new entry
                    await API.entries.create(formData);
                    UI.showToast('Entry created successfully!', 'success');
                }

                resetForm();
                switchTab('entries');
            } catch (error) {
                UI.showToast('Failed to save: ' + error.message, 'error');
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = `<span class="material-symbols-outlined text-[18px]">save</span> <span id="submit-btn-text">${entryId ? 'Update' : 'Save'} Entry</span>`;
            }
        }

        // Reset form
        function resetForm() {
            adminState.editingId = null;
            document.getElementById('entry-form').reset();
            document.getElementById('entry-id').value = '';
            document.getElementById('form-title').textContent = 'Add New Entry';
            document.getElementById('submit-btn-text').textContent = 'Save Entry';
        }

        // Make functions globally available for inline handlers
        window.switchTab = switchTab;
        window.editEntry = editEntry;
        window.deleteEntry = deleteEntry;
        window.approveSubmission = approveSubmission;
        window.rejectSubmission = rejectSubmission;
        window.resetForm = resetForm;

        // Admin actions for use on other pages
        window.AdminActions = {
            editEntry: async (id) => {
                window.location.href = `admin.html#edit-${id}`;
            },
            deleteEntry: async (id) => {
                const confirmed = await UI.confirm({
                    title: 'Delete Entry',
                    message: 'Are you sure you want to delete this entry? This action cannot be undone.',
                    confirmText: 'Delete',
                    danger: true
                });

                if (!confirmed) return;

                try {
                    await API.entries.delete(id);
                    UI.showToast('Entry deleted successfully', 'success');
                    window.location.reload();
                } catch (error) {
                    UI.showToast('Failed to delete entry: ' + error.message, 'error');
                }
            }
        };
    </script>
</body>

</html>